@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}
@section Styles {
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
	<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
	<link rel="stylesheet" href="~/css/site.css">
}

<div class="page-wrapper">
	<aside id="sidebar" class="sidebar d-none d-lg-block">
		<div class="sidebar-header">
			<span class="brand-name">
				<img src="~/image/logo 3.png" />
			</span>
		</div>
		<ul class="sidebar-nav">
			<li class="nav-item">
				<a href="/Home/Homepage" class="nav-link active">
					<i class="fa-solid fa-house"></i>
					<span>Home</span>
				</a>
			</li>
			<li class="nav-item">
				<a href="/Home/Userprofile" class="nav-link">
					<i class="fa-solid fa-user"></i>
					<span>User Profile</span>
				</a>
			</li>
		</ul>
	</aside>
</div>
<div class="main-content">
  <header>
    <div>
      <div>
        <button class="main_button">
          <i class="fa-solid fa-bars"></i>
        </button>
        <button class="btn" type="button"
                data-bs-toggle="offcanvas"
                data-bs-target="#mobile-sidebar"
                aria-controls="mobile-sidebar">
          <i class="fa-solid fa-bars"></i>
        </button>
      </div>
    </div>

    <div id="headerContainer" style="position: relative; left: -15%;">
      <div class="header-actions">
        <p class="mb-0 me-3 d-none d-sm-block">Welcome, <strong>@User.Identity.Name</strong></p>
        <div class="dropdown">
          <form asp-action="Logout" asp-controller="Home" method="get">
            <button type="submit" class="btn btn-link text-decoration-none d-flex align-items-center gap-2" style="color: inherit;">
              <i class="fa-solid fa-arrow-right-from-bracket"></i>
              <span class="d-sm-inline">Logout</span>
            </button>
          </form>
        </div>
      </div>
    </div>
  </header>
</div>

<div class="offcanvas offcanvas-start" tabindex="-1" id="mobile-sidebar" aria-labelledby="mobile-sidebar-label">
	<div class="offcanvas-header">
		<h5 class="offcanvas-title" id="mobile-sidebar-label">Menu</h5>
		<button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
	</div>
	<div class="offcanvas-body">
		<ul class="sidebar-nav">
			<li class="nav-item">
				<a href="/Home/Homepage" class="nav-link">
					<i class="fa-solid fa-house"></i>
					<span>Home</span>
				</a>
			</li>
			<li class="nav-item">
				<a href="/Home/Userprofile" class="nav-link">
					<i class="fa-solid fa-user"></i>
					<span>User Profile</span>
				</a>
			</li>
		</ul>
	</div>
</div>

@section Scripts {
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
	<script src="~/js/dashboardScript.js"></script>

	<script>

				document.querySelectorAll('.main_button').forEach(button => {
				button.addEventListener('click', () => {
						const sidebar = document.getElementById('sidebar');
						const mainContent = document.querySelector('.main-content');

						sidebar.classList.toggle('hidden');
						mainContent.classList.toggle('full-width');
				});
		});

		document.querySelectorAll('.main_button').forEach(button => {
			button.addEventListener('click', () => {
				const header = document.getElementById('headerContainer');
				const currentLeft = window.getComputedStyle(header).left;

				if (currentLeft === '0px') {
					header.style.left = '-15%';
				} else {
					header.style.left = '0%';
				}
			});
		});
	</script>
}
